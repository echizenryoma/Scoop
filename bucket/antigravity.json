{
    "version": "1.11.9-4787439284912128",
    "description": "Google Antigravity",
    "homepage": "https://antigravity.google",
    "license": "Freeware",
    "architecture": {
        "64bit": {
            "url": "https://edgedl.me.gvt1.com/edgedl/release2/j0qc3/antigravity/stable/1.11.9-4787439284912128/windows-x64/Antigravity.exe",
            "hash": "5ba7fb564ec6a923bd1472ba00a46cb44ff29a6b987480bd221a02fb1eb77664"
        },
        "arm64": {
            "url": "https://edgedl.me.gvt1.com/edgedl/release2/j0qc3/antigravity/stable/1.11.9-4787439284912128/windows-arm64/Antigravity.exe",
            "hash": "cfcf518e5579cb0c177968be3d3ea9ac897503d5feadb546953f41daa4bb9b29"
        }
    },
    "env_add_path": "bin",
    "shortcuts": [
        [
            "app/Antigravity.exe",
            "Antigravity"
        ]
    ],
    "innosetup": true,
    "checkver": {
        "script": [
            "$page = Invoke-WebRequest -Uri 'https://antigravity.google/download'",
            "$jsPath = (($page.Content -split '<|>' -match 'script src=\"main')[0] -split '\\s' -match 'src' -split '=')[1] -replace '\"'",
            "$page = Invoke-WebRequest -Uri \"https://antigravity.google/$jsPath\"",
            "$str = ($page.Content -split ';' -match 'windows-x64')[0]",
            "$obj = $str.Substring($str.IndexOf('{')) | ConvertFrom-Json",
            "$url = ($obj.downloadOptions | Where-Object os -Match 'windows').links[0].href",
            "$path = $url -replace '^https://[^/]+/' -replace '/windows-x64.*$'",
            "$version = ($path -split '/' -match '\\d+(\\.\\d+)+')[0]",
            "Write-Output \"$version $path\""
        ],
        "regex": "(?<version>.+)\\s(?<path>.+)"
    },
    "extract_dir": "{code_GetDestDir}",
    "extract_to": "app",
    "installer": {
        "script": [
            "if (Test-Path \"$dir\\{code_GetDestDir}\") {",
            "    Get-ChildItem \"$dir\\{code_GetDestDir}\\*\" -Recurse | Move-Item -Destination \"$dir\" -Force",
            "    Remove-Item \"$dir\\{code_GetDestDir}\" -Recurse -Force",
            "}"
        ]
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://edgedl.me.gvt1.com/$matchPath/windows-x64/Antigravity.exe"
            },
            "arm64": {
                "url": "https://edgedl.me.gvt1.com/$matchPath/windows-arm64/Antigravity.exe"
            }
        }
    }
}
